title: Pipeline Quick Reference
type: text/vnd.tiddlywiki
tags: pipeline yolo training inference onnx rknn troubleshooting testing documentation guide reference python structure docs documentation
created: 20250807170027
modified: 20250807170027
source: docs/PIPELINE_QUICK_REFERENCE.md

# Pipeline Quick Reference

## ğŸ“Š **Pipeline Comparison Table**

| Pipeline Type | Command | ONNX Export | Inference | Analysis | RKNN | Success Rate | Folder Status |
|---------------|---------|-------------|-----------|----------|------|--------------|---------------|
| **Safe** | `--models v8n` | âŒ | â­ï¸ Skip | âœ… | âŒ | High | Empty |
| **ONNX Export** | `--models v8n --onnx-export` | âœ… | â­ï¸ Skip | âœ… | âœ… | **Best** | **Full** |
| **Complete** | `--models v8n --complete-pipeline` | âœ… | âœ… | âœ… | âœ… | Low | Full |

## ğŸ¯ **Recommended Usage**

### **For Your Use Case (Existing Training):**
```bash
python main_colab.py --models v8n --onnx-export
```

### **For New Training:**
```bash
python main_colab.py --models v8n --onnx-export --force-retrain
```

### **For Testing (Safe Mode):**
```bash
python main_colab.py --models v8n
```

## ğŸ“ **Expected Folder Structure**

### **Before Running:**
```
results/
â”œâ”€â”€ runs/
â”‚   â””â”€â”€ segment_train_v8n3/
â”‚       â””â”€â”€ weights/
â”‚           â””â”€â”€ best.pt                    # âœ… Exists
â”œâ”€â”€ onnx_models/                          # âŒ Empty
â””â”€â”€ rknn_models/                          # âŒ Empty
```

### **After ONNX Export Pipeline:**
```
results/
â”œâ”€â”€ runs/
â”‚   â””â”€â”€ segment_train_v8n3/
â”‚       â””â”€â”€ weights/
â”‚           â””â”€â”€ best.pt                    # âœ… Exists
â”œâ”€â”€ onnx_models/
â”‚   â””â”€â”€ yolov8n_is.onnx                  # âœ… Created
â””â”€â”€ rknn_models/
    â””â”€â”€ yolov8n_is.rknn                  # âœ… Created
```

## ğŸ” **Common Issues and Solutions**

### **Issue: Empty ONNX/RKNN Folders**
**Cause:** ONNX models weren't created during original training
**Solution:** Use `--onnx-export` pipeline

### **Issue: RGBA Error in Inference**
**Cause:** Image format compatibility issues
**Solution:** Use `--onnx-export` (skips inference)

### **Issue: Pipeline Fails Completely**
**Cause:** Inference step crashes the pipeline
**Solution:** Use `--onnx-export` (avoids problematic step)

## ğŸ“‹ **Verification Commands**

```bash
# Check what you have
ls -la results/runs/*/weights/best.pt
ls -la results/onnx_models/
ls -la results/rknn_models/

# Run recommended pipeline
python main_colab.py --models v8n --onnx-export

# Verify results
ls -la results/onnx_models/
ls -la results/rknn_models/
```

## ğŸš€ **Quick Start**

1. **Check your environment:**
   ```bash
   python check_onnx_rknn_environment.py
   ```

2. **Run the recommended pipeline:**
   ```bash
   python main_colab.py --models v8n --onnx-export
   ```

3. **Verify success:**
   ```bash
   ls -la results/onnx_models/
   ls -la results/rknn_models/
   ```

4. **Check model sizes:**
   ```bash
   du -h results/onnx_models/yolov8n_is.onnx
   du -h results/rknn_models/yolov8n_is.rknn
   ```

## ğŸ“š **Detailed Documentation**

- **[Pipeline Differences Guide](PIPELINE_DIFFERENCES_GUIDE.md)**: Complete explanation
- **[ONNX/RKNN Troubleshooting](ONNX_RKNN_TROUBLESHOOTING.md)**: Technical details
- **[Environment Diagnostic](check_onnx_rknn_environment.py)**: Check your setup 
